{%- assign quickViewShow = settings.quickView -%}
  {%- if section.id  contains 'product-recommendations' and settings.quickView -%}
    {%- assign quickViewShow = settings.productquickView -%}
  {%- elsif template.name contains 'index' and settings.quickView -%}
    {%- assign quickViewShow = settings.indexquickView -%}
  {%- endif -%}
  {% if quickViewShow %}
    <div class="quick-view-button {% if settings.mobilequickView %}small--hide{% endif %}">
      <button type="button" class="quick-view" data-handle="{{ product.handle }}">
        {% if settings.quick_shop_text != blank %}{{- settings.quick_shop_text  -}}{% endif %} {% render 'icon-quickview' %}
      </button>
      {% render 'product-form', product: product %}
    </div>
  {% endif %}